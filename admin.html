<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin - Achados</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ======= ESTILO FUTURISTA / GLASS ======= */
    :root{
      --neon1:#4cc9ff;
      --neon2:#b56cff;
      --glass:rgba(255,255,255,.10);
      --border:rgba(255,255,255,.16);
      --shadow:0 25px 70px rgba(0,0,0,.50);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Poppins, sans-serif;
      color:#fff;
      background:
        radial-gradient(circle at 20% 10%, rgba(76,201,255,.45), transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(181,108,255,.45), transparent 60%),
        radial-gradient(circle at 60% 90%, rgba(0,255,200,.16), transparent 55%),
        linear-gradient(180deg, #08101f 0%, #050913 55%, #03040a 100%);
      min-height:100vh;
      overflow-x:hidden;
    }

    body:before{
      content:"";
      position:fixed;
      inset:-100px;
      background:
        radial-gradient(circle at 30% 40%, rgba(76,201,255,.25), transparent 45%),
        radial-gradient(circle at 80% 55%, rgba(181,108,255,.18), transparent 50%);
      filter: blur(30px);
      z-index:-1;
    }

    .glass{
      background:var(--glass);
      border:1px solid var(--border);
      border-radius:26px;
      box-shadow:var(--shadow);
      backdrop-filter: blur(18px);
    }

    /* layout */
    .fx-admin{
      display:grid;
      grid-template-columns:320px 1fr;
      gap:22px;
      padding:24px;
    }

    /* sidebar */
    .fx-sidebar{
      padding:20px;
      position:sticky;
      top:24px;
      height:calc(100vh - 48px);
      overflow:auto;
    }
    .fx-logo{padding:14px 14px 22px;}
    .fx-logo h2{margin:0;font-size:1.4rem;}
    .fx-logo span{opacity:.75;font-size:.85rem;}
    .orb{
      width:52px;height:52px;border-radius:50%;
      margin-bottom:10px;
      background: radial-gradient(circle at 25% 25%, #fff, rgba(255,255,255,.1));
      box-shadow:0 0 22px rgba(76,201,255,.65),0 0 55px rgba(181,108,255,.35);
      border:1px solid rgba(255,255,255,.25);
    }
    .fx-nav{
      width:100%;
      padding:12px 14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);
      color:#fff;
      cursor:pointer;
      text-align:left;
      font-weight:600;
      margin-bottom:12px;
      transition:.25s;
    }
    .fx-nav:hover{
      transform:translateY(-1px);
      border-color:rgba(255,255,255,.28);
      box-shadow:0 0 22px rgba(76,201,255,.18);
    }
    .fx-nav.active{
      background: linear-gradient(135deg, rgba(76,201,255,.25), rgba(181,108,255,.22));
      border-color: rgba(255,255,255,.28);
    }
    .fx-nav.danger{background:rgba(255,70,70,.18); border:1px solid rgba(255,70,70,.25);}
    .fx-sep{height:1px;margin:18px 0;background:rgba(255,255,255,.14);}

    /* main */
    .fx-main{display:flex;flex-direction:column;gap:20px;}

    .fx-top{
      padding:18px 22px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .fx-top h1{margin:0;font-size:1.35rem;}
    .fx-top p{margin:6px 0 0;opacity:.75;}

    .fx-view{padding:22px;}

    input, textarea, select{
      width:100%;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(0,0,0,.20);
      color:#fff;
      outline:none;
      margin-bottom:12px;
    }
    textarea{min-height:110px}

    .fx-btn{
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.20);
      color:#fff;
      cursor:pointer;
      font-weight:700;
    }

    /* GRID produtos */
    .fx-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
      gap:18px;
      margin-top:16px;
    }

    .fx-card{
      border-radius:22px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.22);
      box-shadow:0 20px 50px rgba(0,0,0,.35);
    }
    .fx-card img{width:100%;height:170px;object-fit:cover;}
    .fx-card .info{padding:14px;}
    .fx-card strong{display:block;margin-bottom:6px;}
    .fx-card .meta{opacity:.8;font-size:.85rem;margin-bottom:8px;}
    .fx-card .price{color:#ffd18a;font-weight:800;margin-bottom:10px;}
    .fx-card .actions{display:flex;gap:10px;}
    .fx-card .actions button{
      flex:1;
      padding:10px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.20);
      color:#fff;
      cursor:pointer;
      font-weight:700;
    }
    .fx-card .actions .edit{background:linear-gradient(135deg, rgba(76,201,255,.22), rgba(181,108,255,.18));}
    .fx-card .actions .del{background:rgba(255,70,70,.20); border-color:rgba(255,70,70,.28);}

    @media(max-width:980px){
      .fx-admin{grid-template-columns:1fr;}
      .fx-sidebar{position:relative;height:auto;}
    }
  </style>
</head>

<body>

  <!-- LOGIN -->
  <div id="loginForm" class="glass" style="max-width:460px;margin:60px auto;padding:26px;">
    <h2>Login Admin</h2>
    <input id="adminEmail" placeholder="Email" />
    <input id="adminPassword" placeholder="Senha" type="password" />
    <button class="fx-btn" style="width:100%;" onclick="document.querySelector('#loginForm form')?.requestSubmit?.()">Entrar</button>
  </div>

  <!-- ADMIN -->
  <div id="adminArea" style="display:none;">
    <div class="fx-admin">

      <aside class="fx-sidebar glass">
        <div class="fx-logo">
          <div class="orb"></div>
          <h2>Achados Admin</h2>
          <span>dashboard</span>
        </div>

        <button class="fx-nav active" onclick="switchView('add', this)">‚ûï Adicionar</button>
        <button class="fx-nav" onclick="switchView('list', this)">üì¶ Produtos</button>
        <button class="fx-nav" onclick="switchView('theme', this)">üé® Personalizar</button>

        <div class="fx-sep"></div>

        <button class="fx-nav danger" onclick="logoutAdmin()">üö™ Sair</button>
      </aside>

      <main class="fx-main">

        <header class="fx-top glass">
          <div>
            <h1 id="pageTitle">Adicionar produto</h1>
            <p>Painel Administrativo</p>
          </div>
        </header>

        <!-- VIEW: ADD -->
        <section id="viewAdd" class="fx-view glass">
          <h2>Adicionar / Editar Produto</h2>

          <input id="name" placeholder="Nome do produto">
          <textarea id="desc" placeholder="Descri√ß√£o"></textarea>
          <input id="price" placeholder="Pre√ßo">
          <select id="store">
            <option value="shopee">Shopee</option>
            <option value="shein">Shein</option>
          </select>
          <input id="category" placeholder="Categoria">
          <input id="subcategory" placeholder="Subcategoria">
          <input id="mainImg" placeholder="Imagem Principal (link ou c√≥digo)">
          <input id="hoverImg" placeholder="Imagem Hover (link ou c√≥digo)">
          <textarea id="modalImgs" placeholder="Imagens Modal (1 por linha)"></textarea>
          <input id="link" placeholder="Link do produto">

          <button id="cancelEditBtn"
  class="fx-btn"
  style="width:100%; display:none; margin-bottom:12px;"
  onclick="cancelEdit()">
  ‚ùå Cancelar edi√ß√£o
</button>

          <button class="fx-btn" style="width:100%;" onclick="addProduct()">Salvar Produto</button> 
        </section>

        <!-- VIEW: LIST -->
        <section id="viewList" class="fx-view glass" style="display:none;">
          <h2>Produtos cadastrados</h2>
          <div id="list" class="fx-grid"></div>
        </section>

        <!-- VIEW: THEME -->
        <section id="viewTheme" class="fx-view glass" style="display:none;">
          <h2>üé® Personalizar Site</h2>
          <p>Essa parte vamos ligar com Firestore (config/theme) para trocar cores do seu site.</p>
        </section>

      </main>
    </div>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <script>
    // sidebar nav
    function switchView(view, btn){
      document.getElementById("viewAdd").style.display  = view==="add"  ? "block" : "none";
      document.getElementById("viewList").style.display = view==="list" ? "block" : "none";
      document.getElementById("viewTheme").style.display= view==="theme"? "block" : "none";

      document.getElementById("pageTitle").innerText =
        view==="add" ? "Adicionar produto" :
        view==="list" ? "Produtos cadastrados" :
        "Personalizar";

      document.querySelectorAll(".fx-nav").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
    }
  </script>

  <script src="admin.js"></script>

</body>
</html>
